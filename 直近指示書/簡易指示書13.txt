「C:\Users\imuze\PhysicsTableTennis\直近指示書」にて今まで行ったタスクの指示書がある。それを確認し、現在の状況を把握すること。

そして、ゲーム用の機能を新たに追加することにした。「/play」「/played」でモードのオンオフを行う。ラケットをひとつ選択し、テーブルもひとつ選択する。テーブルのどっちの面かも設定することでモードがオンとなる。
目指す最終形態は、マウス操作でサーブとリターン操作を直感的に行えるようにすること。
自動試合モードとフリーモードを用意する。
自動試合モードでは点数の表示、はじめのサーブのランダム決定、2球交代でサーブ、サーブを10秒以内に行わなければ失敗、startコマンドの起動、というのが設定される。
フリーモードではサーブのコマンドでサーブ準備を行える。
テーブルにつくことについて、自分の動かすラケットをひとつ引数で指定し、つくテーブルも指定し、テーブルにつく場所2パターンのうちどちらかを選択して指定でコマンドを打つことでテーブルにつける。
視点はテーブルからの相対座標のある位置で固定となり、マウスでラケットを操る。
「/play @s auto @n[type=racket] @n[type=table] 1」これならば、@s(自分が)自動試合モードで一番近くのラケットを操作し、一番近くのテーブルにつき、テーブルのパターン1のところにつく。という意味になる。
「/play @s free @n[type=racket] @n[type=table] 2」これならば、@s(自分が)フリーモードで一番近くのラケットを操作し、一番近くのテーブルにつき、テーブルのパターン2のところにつく。という意味になる。
「/played @s」で自分がテーブルから離れるという意味になる。

システムにおいて、ラケットの高さは固定で、時計回りで回せば右に曲がる回転、反時計回りなら左、球にあたってすぐに手前に引くと下回転、みたいな感じ。

下回転は手前操作、左右回転は円を描く操作、ナックルはただボールを飛ばしたい方向にスイングとなっている。

ラケットを動かさずボールに当てるとロビングとなり、高いゆっくりな軌道で相手に送ることができ、高く上がったボールは素早くスイングでスマッシュとなる。

→高いボールが来たときは自動でラケットの高さが上がる

空振りがよく起こるようになる。球のバウンドしてから上がってくるタイミングを考えないで打つと、ボールがバウンドして高さを持つ前にラケットが上を通過してしまう。

角度調整のオート（スイング方向で決まってる）、高さの固定、回転の実装、ロビングとスマッシュの実装

この4要素あればスワイプ機能つき卓球ゲームに変身する。

スイング方向がy=x(x増加)みたいな感じだとラケットが45度右に傾き、y=-x(x減少)みたいな感じだと45度左に傾くみたいな仕組み

真横スイングは真横にとぶから返球できない。

むしろ、y=xのスイングが膨らんで曲線になったらそれに応じて左右回転が発動する。

サーブのトスはマウス左ダブルクリックとする。ラケットはマウス左長押しで操作する。
