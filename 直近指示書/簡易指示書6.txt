動作について
・ボール同士が重なるのは不自然。
・粒高はボールに当たると粒が倒れたりして複雑な物理現象が発生するはず、この物理演算ソフトウェアでは特にそういったところまで気を配って作成したい。
→接地面積の変化や反発の仕組み、むしろ摩擦が増えたり減ったりする可能性もある。

ーーーーー下記資料ーーーーー

ユーザーの皆様が直感された「接地面積の変化」「摩擦の増減」は、物理学的にはオイラー座屈 (Euler Buckling) と 異方性摩擦 (Anisotropic Friction) の組み合わせとして説明できます。シミュレーション実装に向けた、粒高特有の「ボール衝突時のタイムライン」と物理現象を解説します。1. 衝突の瞬間：点接触とスリップ現象: ボールが粒の先端（天面）のみに接触している状態。物理挙動:粒高の粒は細長いため、垂直抗力がかかってもすぐには曲がりません（一瞬の剛体挙動）。しかし、表面積が極端に小さいため、摩擦係数は極めて低く（$\mu \approx 0.1$）、ボールの回転は維持されたまま「スリップ」します。実装ポイント: 衝突 $t=0$ 付近では摩擦係数を最小値に設定。2. 変形開始：オイラー座屈 (Buckling)現象: 粒にかかる荷重がある臨界点を超えると、粒は圧縮されるのではなく、突然横方向に「クニャリ」と折れ曲がります。これが座屈です。物理挙動:単純なバネ（フックの法則 $F=kx$）のような線形な反発ではなく、ある時点で抵抗力がガクンと下がる非線形な挙動を示します。ボールの勢いを「吸収」してしまうのは、この座屈によるエネルギー損失が大きいためです。3. 最大変形時：粒の「倒れ」と「絡みつき」ここが最も複雑なフェーズです。A. 接地面積の激増 (Contact Area Explosion)粒が倒れることで、ボールには「粒の先端」だけでなく「粒の側面（円柱の横側）」がベッタリと接触します。実装上の重要点: 接地面積 $A$ が急激に増えるため、「見かけ上の摩擦力」が一時的に増大します。これを「ボールを持つ」感覚と呼びます。B. 粒の方向依存性 (Anisotropy)粒はランダムに倒れるのではなく、「ボールの回転方向」と「入射角」に逆らって倒れたり、順応して倒れたりします。順目（ならい）: ドライブ（上回転）に対し、粒がスムーズに寝る $\rightarrow$ 摩擦低、スリップ、回転残る。逆目（さからい）: 粒が突っ張って倒れる $\rightarrow$ 摩擦増、不規則な変化。4. リリース（離球）：復元と不確定性現象: ボールが離れる際、倒れていた粒が元の形状に戻ろうと「ビヨン」と跳ね返ります。物理挙動:スピン反転 (Spin Reversal):裏ソフトなら摩擦で回転を書き換えます（上回転 $\rightarrow$ 上回転で返す）。粒高は摩擦で回転を止めきれないため、相手の回転軸が保存されたまま跳ね返ります。結果：相手の「上回転」が、自分から見ると「下回転」になって返っていきます。ナックル（揺れ）:複数の粒がバラバラのタイミングで復元するため、ボールを押し出すベクトルが不均一になります。これが「無回転（ナックル）」や「予測不能な変化」を生みます。シミュレーション実装への提案この複雑さをコードやパラメータに落とし込むためのアイデアです。1. 摩擦係数を「粒の倒れ角」の関数にする単純な定数 $\mu$ ではなく、粒の倒れ具合 $\theta$（0度＝直立、90度＝完全倒壊）に応じた関数にします。$$\mu_{effective} = \mu_{base} + k \cdot \sin(\theta)$$直立時 ($\theta \approx 0$): 先端のみ接触。$\mu$ は低い（スリップ）。倒壊時 ($\theta \approx 90$): 側面が接触し、粒がボールに巻き付く。$\mu$ は高くなる（グリップ）。2. バネ定数の非線形化（座屈の再現）粒の反発力 $F$ を、押し込み量 $x$ に対して非線形にします。初期: 硬い（反発力強）座屈点: 突然柔らかくなる（反発力激減）底付き: 再び硬くなる（スポンジ/ブレードに到達）3. 「接線方向」のバネ粒は縦に縮むだけでなく、横に倒れます。粒の根元に「回転バネ（Angular Spring）」を設定し、その復元力がボールに**「予測不能な微小ベクトル」**を与えるようにすると、粒高特有の「嫌らしい変化」が再現できます。

ーーーーーーーーーーーーーー

